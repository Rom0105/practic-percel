{"version":3,"sources":["js/galleryItems.js","js/refs.js","js/themeSwitch.js","index.js"],"names":["galleryItems","preview","original","description","refs","galleryList","document","querySelector","lightBox","lightboxImage","activeIndex","createGalleryCards","items","map","onModalOpen","event","preventDefault","target","classList","contains","add","src","dataset","source","forEach","element","ind","includes","window","addEventListener","changeByArrows","closeByEscape","closeModal","nodeName","remove","removeEventListener","key","length","innerHTML","join"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,MAAMA,EAAe,CAC1B,CACEC,QAAS,uFACTC,SACE,uFACFC,YAAa,mBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,6BAEf,CACEF,QAAS,wEACTC,SAAU,wEACVC,YAAa,qBAEf,CACEF,QAAS,0EACTC,SAAU,0EACVC,YAAa,iBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,yBAEf,CACEF,QAAS,2EACTC,SAAU,2EACVC,YAAa,yBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,6EACTC,SAAU,6EACVC,YAAa,yBA7CV,QAAA,aAAA;;ACAA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,MAAMC,EAAO,CAClBC,YAAaC,SAASC,cAAc,eACpCC,SAAUF,SAASC,cAAc,gBACjCE,cAAeH,SAASC,cAAc,qBAHjC,QAAA,KAAA;;AC4GP,aA5GA,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,UAEA,IAAIG,EAAc,KAElB,SAASC,EAAmBC,GACnBA,OAAAA,EAAMC,IAAI,EAAGZ,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,2FAIzBD,+EAICD,8BACQC,sBACRC,yCAWjB,SAASW,EAAYC,GACnBA,EAAMC,iBACDD,EAAME,OAAOC,UAAUC,SAAS,oBAGhCX,EAAAA,KAAAA,SAASU,UAAUE,IAAI,WACvBX,EAAAA,KAAAA,cAAcY,IAAMN,EAAME,OAAOK,QAAQC,OAC9CZ,EAAmBX,EAAD,cAAewB,QAAQ,CAACC,EAASC,KAC7CD,EAAQE,SAASZ,EAAME,OAAOI,OAChCX,EAAcgB,KAGlBE,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,IAKrC,SAASC,EAAWjB,GACa,SAA3BA,MAAAA,OAAAA,EAAAA,EAAOE,OAAOgB,YAGbxB,EAAAA,KAAAA,cAAcY,IAAM,GACpBb,EAAAA,KAAAA,SAASU,UAAUgB,OAAO,WAC/BN,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOO,oBAAoB,UAAWJ,IAGxC,SAASA,EAAchB,GACH,WAAdA,EAAMqB,KAGVJ,IAEF,SAASF,EAAef,GAClBA,MAAc,eAAdA,EAAMqB,KAAwB1B,EAAcV,EAAaqC,aAAAA,OAAS,GACpE3B,GAAe,OACVD,EAAAA,KAAAA,cAAcY,IAAMrB,EAAaU,aAAAA,GAAaR,WAGnC,cAAda,EAAMqB,KAAuB1B,EAAc,GAC7CA,GAAe,OACVD,EAAAA,KAAAA,cAAcY,IAAMrB,EAAaU,aAAAA,GAAaR,WAGnC,eAAda,EAAMqB,KAAwB1B,IAAgBV,EAAaqC,aAAAA,OAAS,GACtE3B,EAAc,OACTD,EAAAA,KAAAA,cAAcY,IAAMrB,EAAaU,aAAAA,GAAaR,WAGnC,cAAda,EAAMqB,KAAuC,IAAhB1B,GAC/BA,EAAcV,EAAaqC,aAAAA,OAAS,OAC/B5B,EAAAA,KAAAA,cAAcY,IAAMrB,EAAaU,aAAAA,GAAaR,gBAFjDa,EAtDNX,EAAKC,KAAAA,YAAYiC,UAAY3B,EAAmBX,EAAD,cAAeuC,KAAK,IAEnEnC,EAAKC,KAAAA,YAAYwB,iBAAiB,QAASf,GAkB3CV,EAAKI,KAAAA,SAASqB,iBAAiB,QAASG;;ACzCxC,aAFA,QAAA,oBACA,QAAA,qBACA,QAAA","file":"src.b00820d6.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","export const refs = {\n  galleryList: document.querySelector('.js-gallery'),\n  lightBox: document.querySelector('.js-lightbox'),\n  lightboxImage: document.querySelector('.lightbox__image'),\n};\n","import { galleryItems } from './galleryItems';\nimport { refs } from './refs';\n\nlet activeIndex = null;\n\nfunction createGalleryCards(items) {\n  return items.map(({ preview, original, description }) => {\n    return `<li class=\"gallery__item\">\n      <a\n        class=\"gallery__link\"\n        href=\"${original}\"\n      >\n        <img\n          class=\"gallery__image\"\n          src=\"${preview}\"\n          data-source=\"${original}\"\n          alt=\"${description}\"\n        />\n      </a>\n    </li>`;\n  });\n}\n\nrefs.galleryList.innerHTML = createGalleryCards(galleryItems).join('');\n\nrefs.galleryList.addEventListener('click', onModalOpen);\n\nfunction onModalOpen(event) {\n  event.preventDefault();\n  if (!event.target.classList.contains('gallery__image')) {\n    return;\n  }\n  refs.lightBox.classList.add('is-open');\n  refs.lightboxImage.src = event.target.dataset.source;\n  createGalleryCards(galleryItems).forEach((element, ind) => {\n    if (element.includes(event.target.src)) {\n      activeIndex = ind;\n    }\n  });\n  window.addEventListener('keydown', changeByArrows);\n  window.addEventListener('keydown', closeByEscape);\n}\n\nrefs.lightBox.addEventListener('click', closeModal);\n\nfunction closeModal(event) {\n  if (event?.target.nodeName === 'IMG') {\n    return;\n  }\n  refs.lightboxImage.src = '';\n  refs.lightBox.classList.remove('is-open');\n  window.addEventListener('keydown', changeByArrows);\n  window.removeEventListener('keydown', closeByEscape);\n}\n\nfunction closeByEscape(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\nfunction changeByArrows(event) {\n  if (event.key === 'ArrowRight' && activeIndex < galleryItems.length - 1) {\n    activeIndex += 1;\n    refs.lightboxImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n  if (event.key === 'ArrowLeft' && activeIndex > 0) {\n    activeIndex -= 1;\n    refs.lightboxImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n  if (event.key === 'ArrowRight' && activeIndex === galleryItems.length - 1) {\n    activeIndex = 0;\n    refs.lightboxImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n  if (event.key === 'ArrowLeft' && activeIndex === 0) {\n    activeIndex = galleryItems.length - 1;\n    refs.lightboxImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n}\n\n// function keyboardManipulation({ key }) {\n//   switch (key) {\n//     case gallery.length - 1 > activeIndex && 'ArrowRight':\n//       activeIndex += 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex > 0 && 'ArrowLeft':\n//       activeIndex -= 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex === gallery.length - 1 && 'ArrowRight':\n//       activeIndex = 0;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex === 0 && 'ArrowLeft':\n//       activeIndex = gallery.length - 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case 'Escape':\n//       closeModal();\n//       break;\n//     default:\n//       alert('что-то пошло не так');\n//   }\n// }\n","import './js/themeSwitch';\nimport './js/galleryItems';\nimport './js/refs';\n"]}